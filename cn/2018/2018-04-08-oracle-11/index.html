<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Oracleå®è·µæ•°æ®åº“ç¬”è®°-11 - Rehoni | ç½—çš“</title>
    <meta property="og:title" content="Oracleå®è·µæ•°æ®åº“ç¬”è®°-11 - Rehoni | ç½—çš“">
    
    <meta name="twitter:card" content="summary">

    
    
      
    

    
      
      <meta property="description" content=" desc dbms_fga;---STATEMENT_TYPESå®¡æ ¸è¯­å¥ç±»å‹ execute dbms_fga.add_policy(&amp;#39;SCOTT&amp;#39;,&amp;#39;EMP&amp;#39;,&amp;#39;FGA_DEMO&amp;#39;,STATEMENT_TYPES=&amp;gt;&amp;#39;SELECT,INSERT,DELETE&amp;#39;); ---æ‰§è¡Œselect,insert,delete &amp;hellip;">
      <meta property="og:description" content=" desc dbms_fga;---STATEMENT_TYPESå®¡æ ¸è¯­å¥ç±»å‹ execute dbms_fga.add_policy(&amp;#39;SCOTT&amp;#39;,&amp;#39;EMP&amp;#39;,&amp;#39;FGA_DEMO&amp;#39;,STATEMENT_TYPES=&amp;gt;&amp;#39;SELECT,INSERT,DELETE&amp;#39;); ---æ‰§è¡Œselect,insert,delete &amp;hellip;">
      
    

    
    
    
    <meta name="twitter:image" content="https://static.notion-static.com/801127da-7c3c-439e-8c98-4e9aa6330129/Untitled">
    
    
    
    

    

    
    


<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/monokai-sublime.min.css">



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
<script async src="/js/load-typekit.js"></script>


<link rel="stylesheet" href="/css/custom.css" />

  </head>
  <body class="cn">
    <header class="masthead">
      

<h1><a href="/"><img src="/images/logo.jpg" alt="Luo Hao" /></a></h1>



      <nav class="menu">
  <ul>
  
  
  <li><a href="/">é¦–é¡µ</a></li>
  
  <li><a href="/cn/about/">å…³äº</a></li>
  
  <li><a href="/cn/">æ—¥å¿—</a></li>
  
  <li><a href="/categories/">åˆ†ç±»</a></li>
  
  <li><a href="/tags/">æ ‡ç­¾</a></li>
  
  <li><a href="/cn/vitae/">ç®€å†</a></li>
  
  <li><a href="/en/">English</a></li>
  
  

<li class="menu-extra"></li>



<li><a href="https://github.com/rehonicn%5c2018%5c2018-04-08-oracle-11.md" target="_blank">ç¼–è¾‘</a></li>


<li><a href="/cn/index.xml" type="application/rss+xml" title="RSS feed">è®¢é˜…</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">ç‰ˆæƒ</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Oracleå®è·µæ•°æ®åº“ç¬”è®°-11</h1>


<h3>Rehoni / 
2018-04-08</h3>

<hr>


      </header>





<h3 id="å®¡æ ¸">å®¡æ ¸</h3>
<ul>
<li><strong>å¼ºåˆ¶å®¡æ ¸</strong></li>
<li><strong>æ ‡å‡†æ•°æ®åº“å®¡æ ¸</strong></li>
<li><strong>åŸºäºå€¼çš„å®¡æ ¸</strong></li>
<li><strong>ç»†ç²’åº¦å®¡æ ¸(FGA)</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">desc</span> dbms_fga;<span style="color:#75715e">---STATEMENT_TYPESå®¡æ ¸è¯­å¥ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">execute</span> dbms_fga.add_policy(<span style="color:#e6db74">&#39;SCOTT&#39;</span>,<span style="color:#e6db74">&#39;EMP&#39;</span>,<span style="color:#e6db74">&#39;FGA_DEMO&#39;</span>,STATEMENT_TYPES<span style="color:#f92672">=&gt;</span><span style="color:#e6db74">&#39;SELECT,INSERT,DELETE&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">---æ‰§è¡Œselect,insert,deleteæ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">desc</span> dba_fga_audit_trail
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">session</span> <span style="color:#66d9ef">set</span> nls_date_format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;yyyy-mm-dd hh24:mi:ss&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">---ä¸­é—´è¿›è¡Œscottç”¨æˆ·ä¸‹çš„select,insertå’Œdeleteæ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">TIMESTAMP</span>,DB_USER,SQL_TEXT <span style="color:#66d9ef">from</span> dba_fga_audit_trail
</span></span></code></pre></div><ul>
<li><strong>å®¡æ ¸DBA</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">parameter</span> audit
</span></span></code></pre></div><h3 id="è§¦å‘å™¨å¤´éƒ¨è§¦å‘æ¡ä»¶è¢«è§¦å‘ä»£ç ">è§¦å‘å™¨(å¤´éƒ¨,è§¦å‘æ¡ä»¶,è¢«è§¦å‘ä»£ç )</h3>
<ul>
<li>
<p><strong>DMLè§¦å‘å™¨</strong></p>
<p>æ·»åŠ for each rowè¿›è¡Œé€è¡Œæ“ä½œæ˜¾ç¤º</p>
<p>æ·»åŠ referencing old as o new as n for each row when(n.sal&gt;5000)è¿›è¡Œæ¡ä»¶</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> demo1(a varchar(<span style="color:#ae81ff">20</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">or</span> <span style="color:#66d9ef">replace</span> <span style="color:#66d9ef">trigger</span> scott.tr1
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">after</span> <span style="color:#66d9ef">update</span> <span style="color:#66d9ef">on</span> scott.emp <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">each</span> <span style="color:#66d9ef">row</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span>    	<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> scott.demo1 <span style="color:#66d9ef">values</span>(<span style="color:#e6db74">&#39;changed!&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">update</span> emp <span style="color:#66d9ef">set</span> sal<span style="color:#f92672">=</span><span style="color:#ae81ff">2000</span> <span style="color:#66d9ef">where</span> empno<span style="color:#f92672">=</span><span style="color:#ae81ff">7369</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> demo1;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">or</span> <span style="color:#66d9ef">replace</span> <span style="color:#66d9ef">trigger</span> scott.tr1
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">after</span> <span style="color:#66d9ef">update</span> <span style="color:#66d9ef">on</span> scott.emp <span style="color:#66d9ef">referencing</span> <span style="color:#66d9ef">old</span> <span style="color:#66d9ef">as</span> o <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">as</span> n <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">each</span> <span style="color:#66d9ef">row</span> <span style="color:#66d9ef">when</span>(n.sal<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">5000</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span>    	<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> scott.demo1 <span style="color:#66d9ef">values</span>(<span style="color:#e6db74">&#39;changed!&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>;
</span></span></code></pre></div><p><strong>åˆ›å»ºä¸€ä¸ªå·¥èµ„è¡¨, ç”¨è§¦å‘å™¨å®ç°æ›´æ”¹å·¥èµ„ä¹‹å, æ˜¾ç¤ºæ—§çš„å·¥èµ„å’Œæ–°çš„å·¥èµ„çš„å˜åŒ–</strong>ğŸ†—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> sal_change(empno number(<span style="color:#ae81ff">4</span>),ename varchar2(<span style="color:#ae81ff">10</span>), old_sal number(<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">2</span>), new_sal number(<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">or</span> <span style="color:#66d9ef">replace</span> <span style="color:#66d9ef">trigger</span> scott.tr1
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">after</span> <span style="color:#66d9ef">update</span> <span style="color:#66d9ef">on</span> scott.emp <span style="color:#66d9ef">referencing</span> <span style="color:#66d9ef">old</span> <span style="color:#66d9ef">as</span> o <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">as</span> n <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">each</span> <span style="color:#66d9ef">row</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> scott.sal_change <span style="color:#66d9ef">values</span>(:o.empno, :o.ename,:o.sal,:n.sal);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">update</span> emp <span style="color:#66d9ef">set</span> sal<span style="color:#f92672">=</span><span style="color:#ae81ff">4000</span> <span style="color:#66d9ef">where</span> empno<span style="color:#f92672">=</span><span style="color:#ae81ff">7902</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> sal_change;
</span></span></code></pre></div><ul>
<li>
<p><strong>ç³»ç»Ÿè§¦å‘å™¨</strong></p>
<p><strong>å¦‚ç”¨æ¥è®°å½•ç”¨æˆ·çš„ç™»é™†æƒ…å†µ</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>login_rec <span style="color:#f92672">+++</span>(username,login_time)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">or</span> <span style="color:#66d9ef">replace</span> <span style="color:#66d9ef">trigger</span> scott.tr1
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">after</span> logon <span style="color:#66d9ef">on</span> <span style="color:#66d9ef">database</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> login_rec <span style="color:#66d9ef">values</span> ();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>;<span style="color:#75715e">---scottæƒé™ä¸è¶³å¾—æ¢ç”¨æˆ·
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">session</span> <span style="color:#66d9ef">set</span> nls_data_format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;yyyy-mm-dd hh24:mi:ss&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">desc</span> dbms_shared_pool;<span style="color:#75715e">---å…±äº«æ± 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">desc</span> v$db_object_cache;<span style="color:#75715e">---å†…å­˜ä¸­çš„ä¸œè¥¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#66d9ef">owner</span>,name,<span style="color:#66d9ef">type</span> <span style="color:#66d9ef">from</span> v$db_object_cache
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> <span style="color:#66d9ef">owner</span><span style="color:#f92672">&lt;&gt;</span><span style="color:#e6db74">&#39;SYS&#39;</span> <span style="color:#66d9ef">and</span> kept<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;YES&#39;</span>;<span style="color:#75715e">---æŸ¥è¯¢å†…å­˜ä¸­çš„å†…å­˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">desc</span> user_procedures;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">select</span> object_name,object_type <span style="color:#66d9ef">from</span> user_procedures
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> object_type <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;PROCEDURE&#39;</span>;<span style="color:#75715e">---æŸ¥è¯¢å­˜å‚¨è¿‡ç¨‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">execute</span> dbms_shared_pool.keep(<span style="color:#e6db74">&#39;scott.p20&#39;</span>);<span style="color:#75715e">---ä¿æŒp20è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> object_name,object_type <span style="color:#66d9ef">from</span> user_procedures
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> object_type <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;procedure&#39;</span>;
</span></span></code></pre></div><p><strong>åˆ›å»ºä¸€ä¸ªstartupçš„è§¦å‘å™¨</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">or</span> <span style="color:#66d9ef">replace</span> <span style="color:#66d9ef">procedure</span> scott.p20
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">as</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>;
</span></span><span style="display:flex;"><span><span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">select</span> <span style="color:#66d9ef">owner</span>,name,<span style="color:#66d9ef">type</span> <span style="color:#66d9ef">from</span> v$db_object_cache
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> <span style="color:#66d9ef">owner</span><span style="color:#f92672">&lt;&gt;</span><span style="color:#e6db74">&#39;SYS&#39;</span> <span style="color:#66d9ef">and</span> kept<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;YES&#39;</span>;<span style="color:#75715e">---æŸ¥è¯¢ä¸€ä¸‹å†…å­˜ä¸­æ˜¯å¦å­˜åœ¨ N
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">execute</span> dbms_shared_pool.keep(<span style="color:#e6db74">&#39;scott.p20&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">select</span> <span style="color:#66d9ef">owner</span>,name,<span style="color:#66d9ef">type</span> <span style="color:#66d9ef">from</span> v$db_object_cache
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> <span style="color:#66d9ef">owner</span><span style="color:#f92672">&lt;&gt;</span><span style="color:#e6db74">&#39;SYS&#39;</span> <span style="color:#66d9ef">and</span> kept<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;YES&#39;</span>;<span style="color:#75715e">---æŸ¥è¯¢ä¸€ä¸‹å†…å­˜ä¸­æ˜¯å¦å­˜åœ¨ Y
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">---ç»è¿‡shutdownå’Œstartupä¹‹å,p20åœ¨å†…å­˜ä¸­ä¸ä¼šå­˜åœ¨äº†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">---å¦‚æœé‡è§shutdownå’Œstartupä¹‹å,æ“ä½œæŠ¥é”™å°±å†æ“ä½œä¸€é
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>shutdown <span style="color:#66d9ef">immediate</span>
</span></span><span style="display:flex;"><span>startup
</span></span><span style="display:flex;"><span><span style="color:#75715e">---å¦‚æœæ˜¯scott.tr2å°±æ˜¯åœ¨scottä¸‹è¿›è¡Œkeepæ“ä½œå°±éœ€è¦grantæƒé™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">or</span> <span style="color:#66d9ef">replace</span> <span style="color:#66d9ef">trigger</span> tr2
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">after</span> startup <span style="color:#66d9ef">on</span> <span style="color:#66d9ef">database</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span>	sys.dbms_shared_pool.keep(<span style="color:#e6db74">&#39;scott.p20&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>;
</span></span><span style="display:flex;"><span>shutdown <span style="color:#66d9ef">immediate</span>
</span></span><span style="display:flex;"><span>startup
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">select</span> <span style="color:#66d9ef">owner</span>,name,<span style="color:#66d9ef">type</span> <span style="color:#66d9ef">from</span> v$db_object_cache
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> <span style="color:#66d9ef">owner</span><span style="color:#f92672">&lt;&gt;</span><span style="color:#e6db74">&#39;SYS&#39;</span> <span style="color:#66d9ef">and</span> kept<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;YES&#39;</span>;<span style="color:#75715e">---æœ‰äº†
</span></span></span></code></pre></div></li>
</ul>
<h3 id="ç§»åŠ¨æ•°æ®">ç§»åŠ¨æ•°æ®</h3>
<ul>
<li>
<p><strong>æ•°æ®æ–‡ä»¶â€”&gt;æ•°æ®åº“</strong></p>
<ul>
<li>
<p><strong>cmdä¸‹sqlldr</strong></p>
</li>
<li>
<p><strong>cmdä¸‹exp/imp (exportå’Œimport)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">æŸ¥è¯¢</span>expå’Œimpçš„å‚æ•°
</span></span><span style="display:flex;"><span>  CMD<span style="color:#f92672">&gt;</span>exp help<span style="color:#f92672">=</span>y
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">å¯¼å‡ºå·¥èµ„åœ¨</span><span style="color:#ae81ff">2500</span><span style="color:#960050;background-color:#1e0010">ä»¥ä¸Šçš„</span>empè¡¨ä¸­çš„æ•°æ®<span style="color:#75715e">---cmdä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  CMD<span style="color:#f92672">&gt;</span>exp scott<span style="color:#f92672">/</span>tiger file<span style="color:#f92672">=</span>d:<span style="color:#960050;background-color:#1e0010">\</span>demo1.dmp tables<span style="color:#f92672">=</span>emp query<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;where sal&gt;2500&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">æŠ¥é”™</span> LRM<span style="color:#f92672">-</span><span style="color:#ae81ff">00111</span>: <span style="color:#960050;background-color:#1e0010">å€¼</span> <span style="color:#e6db74">&#39;where sal&#39;</span> <span style="color:#960050;background-color:#1e0010">ç¼ºå°‘å³å¼•å·</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">æ˜¯å› ä¸º</span><span style="color:#f92672">&gt;</span><span style="color:#960050;background-color:#1e0010">æ˜¯ç®¡é“å‘½ä»¤</span>,<span style="color:#960050;background-color:#1e0010">è¾“å‡ºçš„æ„æ€</span>. <span style="color:#960050;background-color:#1e0010">å› æ­¤ä¼šåœ¨å½“å‰</span>cmdç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ªåä¸º<span style="color:#e6db74">&#34;2500&#39;&#34;</span><span style="color:#960050;background-color:#1e0010">çš„æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">å› æ­¤è¦å±è”½å¤§äºå·</span>
</span></span><span style="display:flex;"><span>  CMD<span style="color:#f92672">&gt;</span>exp scott<span style="color:#f92672">/</span>tiger file<span style="color:#f92672">=</span>d:<span style="color:#960050;background-color:#1e0010">\</span>demo1.dmp tables<span style="color:#f92672">=</span>emp query<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;where &#34;sal&gt;2500&#34;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">æˆ–è€…åœ¨</span><span style="color:#f92672">&gt;</span>SQLä¸­åŠ ä¸Š$è·‘
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">SQL</span><span style="color:#f92672">&gt;</span><span style="color:#960050;background-color:#1e0010">$</span>exp scott<span style="color:#f92672">/</span>tiger file<span style="color:#f92672">=</span>d:<span style="color:#960050;background-color:#1e0010">\</span>demo1.dmp tables<span style="color:#f92672">=</span>emp query<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;where &#34;sal&gt;2500&#34;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">å­—ç¬¦é›†é—®é¢˜</span> <span style="color:#ae81ff">16</span><span style="color:#960050;background-color:#1e0010">è¿›åˆ¶</span><span style="color:#f92672">-&gt;</span><span style="color:#ae81ff">354</span><span style="color:#960050;background-color:#1e0010">å¯¹åº”å­—ç¬¦é›†</span>id<span style="color:#f92672">-&gt;</span><span style="color:#ae81ff">852</span>,<span style="color:#960050;background-color:#1e0010">æŸ¥è¯¢ä¸º</span>ZHS16GBK
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">select</span> nls_charset_name(<span style="color:#ae81ff">852</span>) <span style="color:#66d9ef">from</span> dual;
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">æ›´æ”¹å­—ç¬¦é›†ä¸º</span>WE8ISO8859P1,<span style="color:#960050;background-color:#1e0010">æŸ¥è¯¢è¯¥</span>idå¾—åˆ°ä¸º31,<span style="color:#960050;background-color:#1e0010">è½¬ä¸º</span><span style="color:#ae81ff">16</span><span style="color:#960050;background-color:#1e0010">è¿›åˆ¶</span><span style="color:#f92672">-&gt;</span><span style="color:#ae81ff">1</span>F
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">select</span> nls_charset_id(<span style="color:#e6db74">&#39;WE8ISO8859P1&#39;</span>) <span style="color:#66d9ef">from</span> dual;
</span></span></code></pre></div></li>
</ul>
<p><img src="https://static.notion-static.com/801127da-7c3c-439e-8c98-4e9aa6330129/Untitled" alt="æ•ˆæœå›¾"></p>
<p><img src="https://static.notion-static.com/bb819c5c-0092-4d36-89f5-2a5a7609e4e6/Untitled" alt="æ•ˆæœå›¾"></p>
<ul>
<li>
<p><strong>expdp/impdp æ•°æ®æ³µ, å¹¶è¡Œ(å¤§ä»»åŠ¡, è¶³å¤Ÿå¤šçš„ç©ºé—²èµ„æº)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>  CMD<span style="color:#f92672">&gt;</span>expdp scott<span style="color:#f92672">/</span>tiger file<span style="color:#f92672">=</span>d:<span style="color:#960050;background-color:#1e0010">\</span>demo2.dmp tables<span style="color:#f92672">=</span>emp
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">æŠ¥é”™</span>:
</span></span><span style="display:flex;"><span>  ORA<span style="color:#f92672">-</span><span style="color:#ae81ff">39001</span>: <span style="color:#960050;background-color:#1e0010">å‚æ•°å€¼æ— æ•ˆ</span>
</span></span><span style="display:flex;"><span>  ORA<span style="color:#f92672">-</span><span style="color:#ae81ff">39000</span>: <span style="color:#960050;background-color:#1e0010">è½¬å‚¨æ–‡ä»¶è¯´æ˜é”™è¯¯</span>
</span></span><span style="display:flex;"><span>  ORA<span style="color:#f92672">-</span><span style="color:#ae81ff">39088</span>: <span style="color:#960050;background-color:#1e0010">æ–‡ä»¶åä¸èƒ½åŒ…å«è·¯å¾„è¯´æ˜</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">SQL</span><span style="color:#f92672">&gt;</span><span style="color:#66d9ef">create</span> directory sha <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;d:\dxp&#39;</span> <span style="color:#960050;background-color:#1e0010">åªæ˜¯åœ¨æ•°æ®åº“ä¸­å£°æ˜</span>,<span style="color:#960050;background-color:#1e0010">å®é™…ç›®å½•éœ€è¦åœ¨æ–‡ä»¶ä¸­åˆ›å»ºå¥½</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">SQL</span><span style="color:#f92672">&gt;</span><span style="color:#66d9ef">grant</span> <span style="color:#66d9ef">read</span>,<span style="color:#66d9ef">write</span> <span style="color:#66d9ef">on</span> directory sha <span style="color:#66d9ef">to</span> scott;
</span></span><span style="display:flex;"><span>  CMD<span style="color:#f92672">&gt;</span>expdp scott<span style="color:#f92672">/</span>tiger directory<span style="color:#f92672">=</span>sha file<span style="color:#f92672">=</span>demo2.dmp tables<span style="color:#f92672">=</span>emp
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">SQL</span><span style="color:#f92672">&gt;</span>conn scott<span style="color:#f92672">/</span>tiger
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">SQL</span><span style="color:#f92672">&gt;</span><span style="color:#66d9ef">drop</span> <span style="color:#66d9ef">table</span> emp;
</span></span><span style="display:flex;"><span>  CMD<span style="color:#f92672">&gt;</span>impdp scott<span style="color:#f92672">/</span>tiger directory<span style="color:#f92672">=</span>sha file<span style="color:#f92672">=</span>demo2.dmp tables<span style="color:#f92672">=</span>emp
</span></span></code></pre></div></li>
</ul>
<p><img src="https://static.notion-static.com/2b622c7a-1bf2-4fe6-b312-3553fc69ab74/Untitled" alt="4"></p>
<p><img src="https://static.notion-static.com/f5f13bc0-df35-459a-a931-6d09a4ea7682/Untitled" alt="5"></p>
</li>
<li>
<p><strong>æ•°æ®åº“&lt;â€”&gt;æ•°æ®åº“</strong></p>
</li>
<li>
<p><strong>æ•°æ®åº“â€”&gt;æ•°æ®æ–‡ä»¶</strong></p>
</li>
</ul>



  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/cn/2018/2018-04-10-oracle-12/">Oracleå®è·µæ•°æ®åº“ç¬”è®°-12</a></span>
  <span class="nav-next"><a href="/cn/2018/2018-04-08-javacore4/">Javaæ ¸å¿ƒæŠ€æœ¯å·(4)</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/cn\/2018\/2018-04-10-oracle-12\/';
    
  } else if (e.which == 39) {  
    
    url = '\/cn\/2018\/2018-04-08-javacore4\/';
    
  }
  if (url) window.location = url;
});
</script>






<script async src="/js/fix-toc.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/math-code.js"></script>

<script async src="/js/external-link.js"></script>

<script async src="/js/alt-title.js"></script>

<script async src="/js/header-link.js"></script>



<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>


  























<script src="//cdn.jsdelivr.net/combine/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js,npm/@xiee/utils/js/load-highlight.js" defer></script>



  
  <hr>
  <div class="copyright">Â© <a href="/">Luo Hao</a> 2016 - 2024</div>
  
  </footer>
  </article>
  
  


  </body>
</html>

