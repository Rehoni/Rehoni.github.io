<!DOCTYPE html>
<html lang="en-us">

  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Oracleå®è·µæ•°æ®åº“ç¬”è®°-9 - Rehoni | ç½—çš“</title>
    <meta property="og:title" content="Oracleå®è·µæ•°æ®åº“ç¬”è®°-9 - Rehoni | ç½—çš“">
    
    <meta name="twitter:card" content="summary">

    
    
      
    

    
      
      <meta property="description" content=" desc dba_segments show parameter db_block_size create tablespace tbs1 datafile &amp;#39;D:\app\hwj\oradata\sales\tbs1.dbf&amp;#39; size 10m blocksize 2048;---æŠ¥é”™ alter session set nls_language=america;---è§£å†³æŠ¥é”™ &amp;hellip;">
      <meta property="og:description" content=" desc dba_segments show parameter db_block_size create tablespace tbs1 datafile &amp;#39;D:\app\hwj\oradata\sales\tbs1.dbf&amp;#39; size 10m blocksize 2048;---æŠ¥é”™ alter session set nls_language=america;---è§£å†³æŠ¥é”™ &amp;hellip;">
      
    

    
    
    
    
    <meta name="twitter:image" content="//localhost:1313/images/logo.jpg">
    
    

    

    
    


<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/monokai-sublime.min.css">



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
<script async src="/js/load-typekit.js"></script>


<link rel="stylesheet" href="/css/custom.css" />

  </head>
  <body class="cn">
    <header class="masthead">
      

<h1><a href="/"><img src="/images/logo.jpg" alt="Luo Hao" /></a></h1>



      <nav class="menu">
  <ul>
  
  
  <li><a href="/">é¦–é¡µ</a></li>
  
  <li><a href="/cn/about/">å…³äº</a></li>
  
  <li><a href="/cn/">æ—¥å¿—</a></li>
  
  <li><a href="/categories/">åˆ†ç±»</a></li>
  
  <li><a href="/tags/">æ ‡ç­¾</a></li>
  
  <li><a href="/cn/vitae/">ç®€å†</a></li>
  
  <li><a href="/en/">English</a></li>
  
  

<li class="menu-extra"></li>



<li><a href="https://github.com/rehonicn%5c2018%5c2018-03-30-oracle-9.md" target="_blank">ç¼–è¾‘</a></li>


<li><a href="/cn/index.xml" type="application/rss+xml" title="RSS feed">è®¢é˜…</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">ç‰ˆæƒ</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Oracleå®è·µæ•°æ®åº“ç¬”è®°-9</h1>


<h3>Rehoni / 
2018-03-30</h3>

<hr>


      </header>





<h3 id="ç®¡ç†è¡¨ç©ºé—´å’Œæ•°æ®æ–‡ä»¶">ç®¡ç†è¡¨ç©ºé—´å’Œæ•°æ®æ–‡ä»¶</h3>
<ol>
<li>æ•°æ®åº“çš„å­˜å‚¨å±‚æ¬¡ç»“æ„ PPT153
<ul>
<li>æ•°æ®åº“,</li>
<li>è¡¨ç©ºé—´,</li>
<li>æ®µ(å­˜å‚¨ç»“æ„)</li>
<li>åŒº(æœ€å°çš„ç©ºé—´åˆ†é…å•ä½)___ç©ºé—´ç®¡ç†
<ul>
<li>æ•°æ®å­—å…¸ç®¡ç†[å ç”¨ç³»ç»Ÿè¡¨ç©ºé—´,å¢åŠ ç³»ç»Ÿè´Ÿæ‹…,ç°å·²è¢«åºŸå¼ƒ]</li>
<li>æœ¬åœ°ç®¡ç† bitmapä½å›¾
extend_id bitmap
1           1
2           0 //å¯ç”¨</li>
</ul>
</li>
<li>å—(æœ€å°çš„IOå•ä½) æ ¹æ®è®¿é—®æ•°æ®é‡æ¥æ§åˆ¶å—çš„å•ä½å¤§å°</li>
<li>ç¢ç‰‡,æœ¬åœ°ç®¡ç†
ä¾æ®ç®¡ç†å’Œæ€§èƒ½åˆ†é…è¡¨ç©ºé—´
ç´¢å¼•å’Œæ•°æ®ä¸è¦æ”¾åœ¨ä¸€ä¸ªè¡¨ç©ºé—´é‡Œ</li>
</ul>
</li>
<li>ç©ºé—´ç®¡ç†
<ul>
<li>ç³»ç»Ÿç©ºé—´</li>
<li>éç³»ç»Ÿç©ºé—´</li>
</ul>
</li>
<li>åˆ›å»ºè¡¨ç©ºé—´
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">desc</span> dba_segments
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">parameter</span> db_block_size
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace tbs1 datafile <span style="color:#e6db74">&#39;D:\app\hwj\oradata\sales\tbs1.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">10</span>m blocksize <span style="color:#ae81ff">2048</span>;<span style="color:#75715e">---æŠ¥é”™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">session</span> <span style="color:#66d9ef">set</span> nls_language<span style="color:#f92672">=</span>america;<span style="color:#75715e">---è§£å†³æŠ¥é”™ä¸º?????çš„åŠæ³•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">parameter</span> <span style="color:#66d9ef">cache</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">set</span> db_2k_cache_size<span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace userdata datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\userdata01.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">100</span>m autoextend <span style="color:#66d9ef">on</span> <span style="color:#66d9ef">next</span> <span style="color:#ae81ff">5</span>m maxsize <span style="color:#ae81ff">200</span>m;<span style="color:#75715e">---åˆ›å»ºè¡¨ç©ºé—´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">create</span> tablespace userdata datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\userdata01.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">100</span>m extend management <span style="color:#66d9ef">dictionary</span>;<span style="color:#75715e">---åˆ›å»ºè¡¨ç©ºé—´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">desc</span> dba_tablespaces;<span style="color:#75715e">---å¦‚æœä½ çš„systemè¡¨ç©ºé—´æ˜¯æœ¬åœ°ç®¡ç†localçš„,é‚£ä½ åªèƒ½åˆ›å»ºæœ¬åœ°ç®¡ç†è¡¨ç©ºé—´,å¦‚æœæ˜¯dictionaryçš„é‚£ä¹ˆä¸¤è€…éƒ½å¯ä»¥åˆ›å»º
</span></span></span></code></pre></div></li>
<li>è¡¨ç©ºé—´çš„ç±»å‹
<ul>
<li>å¸¸è§„è¡¨ç©ºé—´</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> name <span style="color:#66d9ef">from</span> v$tablespace;
</span></span></code></pre></div><ul>
<li>ä¸´æ—¶è¡¨ç©ºé—´(æ’åº)
æ•°æ®åº“å±æ€§è§†å›¾</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">desc</span> database_properties;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> property_name,property_value <span style="color:#66d9ef">from</span> database_properties;<span style="color:#75715e">---default_temp_tablespaceä¸´æ—¶è¡¨ç©ºé—´,default_permament_tablespaceé»˜è®¤å¸¸è§„è¡¨ç©ºé—´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">create</span> tablespace users datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\users01.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">30</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> <span style="color:#66d9ef">default</span> tablespace users;<span style="color:#75715e">---è®¾ç½®ä¸ºé»˜è®¤è¡¨ç©ºé—´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">temporary</span> tablespace temp2 tempfile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\users02.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">30</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">temporary</span> tablespace temp2;
</span></span></code></pre></div><ul>
<li>å¤§æ–‡ä»¶è¡¨ç©ºé—´ç†è§£ä¸€ä¸‹</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    default_tbs_type <span style="color:#75715e">---smallfile
</span></span></span></code></pre></div><ul>
<li>æ’¤é”€è¡¨ç©ºé—´(æ”¾å›æ»šçš„æ•°æ®çš„DMLä¿®æ”¹ä¹‹å‰å¯ä»¥å›æ»š)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">parameter</span> undo_tablespace;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> undo tablespace undotbs2 datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\undotbs02.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">20</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">set</span> undo_tablespace<span style="color:#f92672">=</span>undotbs2;
</span></span></code></pre></div></li>
<li>è¡¨ç©ºé—´çš„çŠ¶æ€
<ul>
<li>æ­£å¸¸çŠ¶æ€(è”æœº,å¯è¯»å¯å†™)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">desc</span> dba_tablespaces;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> tablespace_name,status <span style="color:#66d9ef">from</span> dba_tablespaces;<span style="color:#75715e">---online,read only
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> scott.demo(id int,name varchar(<span style="color:#ae81ff">20</span>)) tablespace tbs1;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> scott.demo <span style="color:#66d9ef">values</span>(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;luobo&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> scott.demo <span style="color:#66d9ef">values</span>(<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#39;aaa&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">commit</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">checkpoint</span>;
</span></span></code></pre></div><ul>
<li>åªè¯»çŠ¶æ€</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace tbs1 <span style="color:#66d9ef">read</span> <span style="color:#66d9ef">only</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">drop</span> <span style="color:#66d9ef">table</span> scott.demo;<span style="color:#75715e">---æ˜¯å¯ä»¥åˆ é™¤æ‰çš„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">alter</span> tablespace tbs1 <span style="color:#66d9ef">read</span> <span style="color:#66d9ef">write</span>;
</span></span><span style="display:flex;"><span>    flashback <span style="color:#66d9ef">table</span> demo <span style="color:#66d9ef">to</span> <span style="color:#66d9ef">before</span> <span style="color:#66d9ef">drop</span>;
</span></span></code></pre></div><ul>
<li>è„±æœºçŠ¶æ€
ä¸èƒ½è„±æœºçš„è¡¨ç©ºé—´ <strong>system,undotbs1,æ‰€æœ‰çš„ä¸´æ—¶è¡¨ç©ºé—´</strong>
sysauxè¾…åŠ©ç³»ç»Ÿè¡¨ç©ºé—´,è‡ªåŠ¨ä¼˜åŒ–è°ƒæ•´,è‡ªåŠ¨åŒ–ç®¡ç†,èƒ½å¤Ÿè„±æœº,åŠŸèƒ½å¤±æ•ˆ
undotbsæ’¤é”€è¡¨ç©ºé—´,æ´»åŠ¨/å½“å‰çš„undotbsä¸èƒ½å¤Ÿè„±æœº</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace <span style="color:#66d9ef">system</span> offline;<span style="color:#75715e">---online
</span></span></span></code></pre></div></li>
<li>åˆ é™¤è¡¨ç©ºé—´
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">drop</span> tablespace tbs1;<span style="color:#75715e">---å†…å®¹ä¸æ˜¯ç©ºçš„,å°±ä¸èƒ½åˆ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">drop</span> tablespace tbs1 <span style="color:#66d9ef">including</span> contents;
</span></span></code></pre></div></li>
<li>OMFçš„è¡¨ç©ºé—´
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">parameter</span> db_create;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">set</span> db_create_file_dest;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace tbs2;<span style="color:#75715e">---æŠ¥é”™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">create</span> tablespace tbs2 datafile <span style="color:#e6db74">&#39;path&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">10</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">drop</span> tablespace tbs2;<span style="color:#75715e">---æ–‡ä»¶æ²¡è¢«åˆ æ‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">set</span> db_create_file_dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;E:\app\OMF\dest&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace tbs2;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> tablespace name,file_name <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">æŸä¸ªè¡¨</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">drop</span> tablespace tbs2;<span style="color:#75715e">---æ–‡ä»¶è¢«åˆ æ‰
</span></span></span></code></pre></div></li>
<li>æ‰©å±•è¡¨ç©ºé—´ PPT167
<ul>
<li>ä¿®æ”¹åŸæ•°æ®æ–‡ä»¶çš„å¤§å°
<ul>
<li>è‡ªåŠ¨æ‰©å±•</li>
<li>æ‰‹åŠ¨æ‰©å±•</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> DATAFILE
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;/u01/oradata/userdata02.dbf&#39;</span> <span style="color:#66d9ef">SIZE</span> <span style="color:#ae81ff">200</span>M
</span></span><span style="display:flex;"><span>    AUTOEXTEND <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">NEXT</span> <span style="color:#ae81ff">10</span>M MAXSIZE <span style="color:#ae81ff">500</span>M;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span>
</span></span><span style="display:flex;"><span>    DATAFILE <span style="color:#e6db74">&#39;/u03/oradata/userdata02.dbf&#39;</span>
</span></span><span style="display:flex;"><span>    RESIZE <span style="color:#ae81ff">200</span>M;
</span></span></code></pre></div><ul>
<li>æ·»åŠ æ–°çš„æ•°æ®æ–‡ä»¶</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">ALTER</span> TABLESPACE app_data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">ADD</span> DATAFILE <span style="color:#e6db74">&#39;/u01/oradata/userdata03.dbf&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SIZE</span> <span style="color:#ae81ff">200</span>M;
</span></span></code></pre></div></li>
<li>ç§»åŠ¨æ•°æ®æ–‡ä»¶ PPT171
<ul>
<li>å¯ä»¥ç§»åŠ¨ ä¸å†ç”¨çš„æ–‡ä»¶</li>
<li>ç‰©ç†ç§»åŠ¨</li>
<li>æ›´æ–°æ§åˆ¶æ–‡ä»¶</li>
</ul>
</li>
</ol>
<h3 id="å®éªŒ">å®éªŒ</h3>
<p>åˆ›å»ºUSERSè¡¨ç©ºé—´,å¹¶è®¾ç½®ä¸ºæ•°æ®åº“é»˜è®¤çš„æ°¸ä¹…è¡¨ç©ºé—´</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç”±4Kçš„å—ç»„æˆè¡¨ç©ºé—´TEST(TEST01.dbf 10M) ğŸ†—</li>
<li>å‘TESTè¡¨ç©ºé—´å¢åŠ ä¸€ä¸ª10Mçš„æ•°æ®æ–‡ä»¶(TEST02.dbf),å°†TEST01.DBFä¿®æ”¹ä¸º15m ğŸ†—</li>
<li>ç§»åŠ¨TEST01.DBF ğŸ†—</li>
<li>åœ¨TESTè¡¨ç©ºé—´å†…åˆ›å»ºä¸€å¼ è¡¨table1(insert)ğŸ†—</li>
<li>å°†TESTè¡¨ç©ºé—´æ”¹ä¸ºread onlyğŸ†—</li>
<li>åˆ é™¤è¡¨table1ğŸ†—</li>
<li>å°†è¡¨ç©ºé—´æ”¹ä¸ºread writeğŸ†—</li>
<li>åˆ é™¤TESTè¡¨ç©ºé—´ æ£€æµ‹æ•°æ®æ–‡ä»¶æ˜¯å¦è¢«åˆ é™¤ğŸ†—</li>
<li>OMFåˆ›å»ºè¡¨ç©ºé—´ æ£€æµ‹æ•°æ®æ–‡ä»¶æ˜¯å¦è¢«åˆ é™¤ğŸ†—</li>
<li>åˆ›å»º1ä¸ªæ’¤é”€è¡¨ç©ºé—´undotbs2,å¹¶æŠŠå®ƒè®¾ä¸ºç³»ç»Ÿå½“å‰çš„æ’¤é”€è¡¨ç©ºé—´ğŸ†—</li>
<li>åˆ›å»ºä¸´æ—¶è¡¨ç©ºé—´temp2,å¹¶æŠŠå®ƒè®¾ä¸ºæ•°æ®åº“é»˜è®¤çš„ä¸´æ—¶è¡¨ç©ºé—´ğŸ†—</li>
<li>æ²¡æœ‰å¤‡ä»½çš„æ¢å¤(å½’æ¡£æ¨¡å¼)
<ul>
<li>åˆ›å»ºä¸€ä¸ªè¡¨ç©ºé—´TBS1(TBS1.DBF)ğŸ†—</li>
<li>åœ¨TBS1è¡¨ç©ºé—´å†…åˆ›å»ºä¸€å¼ è¡¨T1ğŸ†—</li>
<li>shutdown immediateğŸ†—</li>
<li>æ‰‹å·¥åˆ é™¤è¡¨ç©ºé—´TBS1çš„æ•°æ®æ–‡ä»¶ğŸ†—</li>
<li>startupğŸ†—</li>
<li>å°†æ•°æ®æ–‡ä»¶TBS1.DBFè„±æœºğŸ†—</li>
<li>alter database open;ğŸ†—</li>
<li>alter database create datafile &lsquo;pth\tbs1.bdf&rsquo;;ğŸ†—</li>
<li>recover datafile &lsquo;path\tbs1.dbf&rsquo;;ğŸ†—</li>
<li>å°†æ•°æ®æ–‡ä»¶TBS1.DBFè”æœºğŸ†—</li>
<li>æ£€æŸ¥æ•°æ®æ˜¯å¦æ¢å¤ğŸ†—</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace TEST datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\test01.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">10</span>m blocksize <span style="color:#ae81ff">4096</span>;<span style="color:#75715e">---æŠ¥é”™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">set</span> db_4k_cache_size<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace TEST datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\test01.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">10</span>m blocksize <span style="color:#ae81ff">4096</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace TEST <span style="color:#66d9ef">add</span> datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\test02.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">10</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\test01.dbf&#39;</span> resize <span style="color:#ae81ff">15</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> tablespace_name,status <span style="color:#66d9ef">from</span> dba_tablespaces;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace test offline;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace TEST
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">2</span>  <span style="color:#66d9ef">rename</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">3</span>  datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\test01.dbf&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4</span>  <span style="color:#66d9ef">to</span> <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\test01.dbf&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace TEST online;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> scott.table1(id int,name varchar(<span style="color:#ae81ff">20</span>)) tablespace test;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> scott.table1 <span style="color:#66d9ef">values</span>(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;luobo&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> scott.table1 <span style="color:#66d9ef">values</span>(<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#39;aaa&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace TEST <span style="color:#66d9ef">read</span> <span style="color:#66d9ef">only</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> tablespace_name,status <span style="color:#66d9ef">from</span> dba_tablespaces;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">drop</span> <span style="color:#66d9ef">table</span> scott.table1;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> tablespace TEST <span style="color:#66d9ef">read</span> <span style="color:#66d9ef">write</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">drop</span> tablespace TEST;<span style="color:#75715e">---æ•°æ®æ–‡ä»¶æœªè¢«åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">parameter</span> db_create;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">set</span> db_create_file_dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;E:\app\OMF&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace TEST;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">drop</span> tablespace TEST;<span style="color:#75715e">---æ•°æ®æ–‡ä»¶åˆ é™¤äº†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">create</span> undo tablespace undotbs2 datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\undotbs2.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">30</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">set</span> undo_tablespace<span style="color:#f92672">=</span>undotbs2;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">show</span> <span style="color:#66d9ef">parameter</span> undo_tablespace;<span style="color:#75715e">---æŸ¥è¯¢
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">temporary</span> tablespace temp2 tempfile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\temp2.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">30</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">temporary</span> tablespace temp2;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> property_name,property_value <span style="color:#66d9ef">from</span> database_properties;<span style="color:#75715e">---æŸ¥è¯¢
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    col PROPERTY_NAME <span style="color:#66d9ef">for</span> a32;
</span></span><span style="display:flex;"><span>    col PROPERTY_VALUE <span style="color:#66d9ef">for</span> a32;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> property_name,property_value <span style="color:#66d9ef">from</span> database_properties;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace TBS1 datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\tbs01.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">30</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> tablespace_name,status <span style="color:#66d9ef">from</span> dba_tablespaces;<span style="color:#75715e">---æŸ¥è¯¢
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> tablespace TBS1 datafile <span style="color:#e6db74">&#39;E:\app\Res0liya\oradata\orcl\tbs01.dbf&#39;</span> <span style="color:#66d9ef">size</span> <span style="color:#ae81ff">30</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> tablespace_name,status <span style="color:#66d9ef">from</span> dba_tablespaces;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> scott.t1(id int);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">table</span> scott.t1 <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">commit</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">system</span> <span style="color:#66d9ef">checkpoint</span>;
</span></span><span style="display:flex;"><span>    shutdown <span style="color:#66d9ef">immediate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">åˆ é™¤æœ¬åœ°æ–‡ä»¶</span>tbs01.dbf
</span></span><span style="display:flex;"><span>    startup<span style="color:#75715e">---æŠ¥é”™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ORA<span style="color:#f92672">-</span><span style="color:#ae81ff">01157</span>: <span style="color:#960050;background-color:#1e0010">æ— æ³•æ ‡è¯†</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">é”å®šæ•°æ®æ–‡ä»¶</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">è¯·å‚é˜…</span> DBWR <span style="color:#960050;background-color:#1e0010">è·Ÿè¸ªæ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>    ORA<span style="color:#f92672">-</span><span style="color:#ae81ff">01110</span>: <span style="color:#960050;background-color:#1e0010">æ•°æ®æ–‡ä»¶</span> <span style="color:#ae81ff">8</span>: <span style="color:#e6db74">&#39;E:\APP\RES0LIYA\ORADATA\ORCL\TBS01.DBF&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> datafile <span style="color:#ae81ff">8</span> offline;<span style="color:#75715e">---æŠ¥é”™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    archive log list;<span style="color:#75715e">---æ£€æŸ¥æ˜¯ä¸æ˜¯å½’æ¡£æ¨¡å¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> archivelog;<span style="color:#75715e">--è®¾ç½®äº†å½’æ¡£æ¨¡å¼(è§ä¹‹å‰çš„ç¬”è®°)ä¹‹åå°±ä¸ä¼šæŠ¥é”™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> <span style="color:#66d9ef">open</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> <span style="color:#66d9ef">create</span> datafile <span style="color:#e6db74">&#39;E:\APP\RES0LIYA\ORADATA\ORCL\TBS01.DBF&#39;</span>;
</span></span><span style="display:flex;"><span>    recover datafile <span style="color:#e6db74">&#39;E:\APP\RES0LIYA\ORADATA\ORCL\TBS01.DBF&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">database</span> datafile <span style="color:#ae81ff">8</span> online;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">æœ¬åœ°æ–‡ä»¶</span>tbs01.dbfå›æ¥äº†
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">desc</span> scott.t1;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> scott.t1;
</span></span></code></pre></div><p><strong>Oracleæœ€åŸºç¡€çš„éƒ¨åˆ†å·²ç»ç»“æŸäº†,åè¾¹çš„éƒ¨åˆ†å¯ä»¥è‡ªå­¦äº†</strong>å•§</p>



  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/cn/2018/2018-03-27-oracle-8/">Oracleå®è·µæ•°æ®åº“ç¬”è®°-8</a></span>
  <span class="nav-next"><a href="/cn/2018/2018-04-03-oracle-10/">Oracleå®è·µæ•°æ®åº“ç¬”è®°-10</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/cn\/2018\/2018-03-27-oracle-8\/';
    
  } else if (e.which == 39) {  
    
    url = '\/cn\/2018\/2018-04-03-oracle-10\/';
    
  }
  if (url) window.location = url;
});
</script>






<script async src="/js/fix-toc.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/math-code.js"></script>

<script async src="/js/external-link.js"></script>

<script async src="/js/alt-title.js"></script>

<script async src="/js/header-link.js"></script>



<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>


  























<script src="//cdn.jsdelivr.net/combine/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js,npm/@xiee/utils/js/load-highlight.js" defer></script>



  
  <hr>
  <div class="copyright">Â© <a href="/">Luo Hao</a> 2016 - 2024</div>
  
  </footer>
  </article>
  
  


  </body>
</html>

